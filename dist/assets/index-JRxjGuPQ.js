import"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js";import*as $ from"https://cdn.jsdelivr.net/npm/date-fns@2.24.0/esm/index.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(n){if(n.ep)return;n.ep=!0;const c=a(n);fetch(n.href,c)}})();let ee=e=>{const t=document.getElementById("main"),a=document.createElement("div");a.className="normalDiv";const s=document.createElement("h1");s.className=`cityName${e} cityName`,t.appendChild(s);const n=document.createElement("p");n.className=`descR${e} descR`,t.appendChild(n);const c=document.createElement("img");c.className=`imgSky${e} imgSky`,t.appendChild(c);const o=document.createElement("h2");o.className=`temperature${e} temperature`,t.appendChild(o);const m=document.createElement("div");m.className="bigDiv",t.appendChild(m);const p=document.createElement("div");p.id="today",m.appendChild(a),a.appendChild(p);const r=document.createElement("h2");r.id="todays",r.textContent="TODAY'S FORECAST",p.appendChild(r);const u=document.createElement("div");u.className="forecastDay",p.appendChild(u);const d=document.createElement("div");d.id="matin",u.appendChild(d);const g=document.createElement("div");g.id="midi",u.appendChild(g);const h=document.createElement("div");h.id="soir",u.appendChild(h);const S=document.createElement("h3");S.className="hour hour_mat",S.textContent="03:00",d.appendChild(S);const f=document.createElement("h3");f.className="hour hour_mid",f.textContent="12:00",g.appendChild(f);const N=document.createElement("h3");N.className="hour hour_soi",N.textContent="21:00",h.appendChild(N);const v=document.createElement("img");v.className=`imgToday img_mat img_mat${e}`,d.appendChild(v);const _=document.createElement("img");_.className=`imgToday img_mid img_mid${e}`,g.appendChild(_);const I=document.createElement("img");I.className=`imgToday img_soi img_soi${e}`,h.appendChild(I);const T=document.createElement("h3");T.className=`tempToday temp_mat temp_mat${e}`,d.appendChild(T);const Y=document.createElement("h3");Y.className=`tempToday temp_mid temp_mid${e}`,g.appendChild(Y);const D=document.createElement("h3");D.className=`tempToday temp_soi temp_soi${e}`,h.appendChild(D);const w=document.createElement("div");w.id="week",m.appendChild(w);const x=document.createElement("h2");x.id="weeks",x.textContent="5-DAY FORECAST",w.appendChild(x);const i=document.createElement("div");i.className="forecastWeek",w.appendChild(i);const y=document.createElement("div"),M=document.createElement("h3"),B=document.createElement("p"),z=document.createElement("img");y.id="un",M.className=`day day_un day_un${e}`,B.className=`tempW temp_un temp_un${e}`,z.className=`imgW img_un img_un${e}`,i.appendChild(y),y.appendChild(M),y.appendChild(B),y.appendChild(z);const C=document.createElement("div"),b=document.createElement("h3"),F=document.createElement("p"),R=document.createElement("img");C.id="deux",b.className=`day day_deux day_deux${e}`,F.className=`tempW temp_deux temp_deux${e}`,R.className=`imgW img_deux img_deux${e}`,i.appendChild(C),C.appendChild(b),C.appendChild(F),C.appendChild(R);const A=document.createElement("div"),V=document.createElement("h3"),k=document.createElement("p"),K=document.createElement("img");A.id="trois",V.className=`day day_trois day_trois${e}`,k.className=`tempW temp_trois temp_trois${e}`,K.className=`imgW img_trois img_trois${e}`,i.appendChild(A),A.appendChild(V),A.appendChild(k),A.appendChild(K);const E=document.createElement("div"),O=document.createElement("h3"),H=document.createElement("p"),Z=document.createElement("img");E.id="quatre",O.className=`day day_quatre day_quatre${e}`,H.className=`tempW temp_quatre temp_quatre${e}`,Z.className=`imgW img_quatre img_quatre${e}`,i.appendChild(E),E.appendChild(O),E.appendChild(H),E.appendChild(Z);const q=document.createElement("div"),G=document.createElement("h3"),U=document.createElement("p"),J=document.createElement("img");q.id="cinq",G.className=`day day_cinq day_cinq${e}`,U.className=`tempW temp_cinq temp_cinq${e}`,J.className=`imgW img_cinq img_cinq${e}`,i.appendChild(q),q.appendChild(G),q.appendChild(U),q.appendChild(J);const Q=document.createElement("div"),P=document.createElement("img"),X=document.createElement("h2");Q.className=`divImgW divImgW${e}`,P.className=`cityImg cityImg${e}`,X.className=`titleCity titleCity${e}`,a.appendChild(Q),Q.appendChild(X),Q.appendChild(P);const W=document.createElement("div"),L=document.createElement("canvas");W.className=`divChart divChart${e}`,L.className=`canvas canvas${e}`,t.appendChild(W),W.appendChild(L)},te=(e,t)=>{const a=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s=new Date,n=$.getDay(s),c=n,o=document.querySelector(`.canvas${t}`);new Chart(o,{type:"bar",data:{labels:[a[n-1],a[n],a[(c+1)%7],a[(c+2)%7],a[(c+3)%7],a[(c+4)%7]],datasets:[{label:"Temperature",data:[Math.round(e.list[0].main.temp-273.15),Math.round(e.list[8].main.temp-273.15),Math.round(e.list[16].main.temp-273.15),Math.round(e.list[24].main.temp-273.15),Math.round(e.list[32].main.temp-273.15),Math.round(e.list[39].main.temp-273.15)],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})},ce=(e,t,a)=>{const s=document.querySelector(`.day_un${a}`),n=document.querySelector(`.day_deux${a}`),c=document.querySelector(`.day_trois${a}`),o=document.querySelector(`.day_quatre${a}`),m=document.querySelector(`.day_cinq${a}`);s.textContent=e[t+1],n.textContent=e[t+2],c.textContent=e[t+3],o.textContent=e[t+4],m.textContent=e[t+5]},ne=e=>{const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=new Date;console.log(a);const n=$.getDay(a);console.log(n);const c=t[n];console.log(c),ce(t,n,e)};const se="/weatherapp/assets/Clear-LZ6NAuEy.png",oe="/weatherapp/assets/Clouds-Ewen_3nw.png",me="/weatherapp/assets/Drizzle-qNMLyhya.png",re="data:image/png;base64,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",de="/weatherapp/assets/Mist-UsRI81hv.png",ie="/weatherapp/assets/Rain-6EVq1sZg.png",le="/weatherapp/assets/Snow--VBqIh3y.png",pe="data:image/png;base64,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";let l=(e,t)=>{e=="Clear"?t.src=se:e=="Clouds"?t.src=oe:e=="Drizzle"?t.src=me:e=="Humidity"?t.src=re:e=="Mist"?t.src=de:e=="Rain"?t.src=ie:e=="Snow"?t.src=le:e=="Wind"&&(t.src=pe)},ae=(e,t,a)=>{const s=document.querySelector(`.cityName${t}`),n=document.querySelector(`.temperature${t}`),c=document.querySelector(`.imgSky${t}`),o=document.querySelector(`.descR${t}`),m=document.querySelector(`.img_mat${t}`),p=document.querySelector(`.img_mid${t}`),r=document.querySelector(`.img_soi${t}`),u=document.querySelector(`.temp_mat${t}`),d=document.querySelector(`.temp_mid${t}`),g=document.querySelector(`.temp_soi${t}`),h=document.querySelector(`.temp_un${t}`),S=document.querySelector(`.temp_deux${t}`),f=document.querySelector(`.temp_trois${t}`),N=document.querySelector(`.temp_quatre${t}`),v=document.querySelector(`.temp_cinq${t}`),_=document.querySelector(`.img_un${t}`),I=document.querySelector(`.img_deux${t}`),T=document.querySelector(`.img_trois${t}`),Y=document.querySelector(`.img_quatre${t}`),D=document.querySelector(`.img_cinq${t}`),w=document.querySelector(`.cityImg${t}`),x=document.querySelector(`.titleCity${t}`);let i=e.list[0].main.temp-273.15,y=Math.round(i),M=e.list[0].weather[0].main,B=e.list[0].weather[0].description,z=e.list[0].weather[0].main,C=e.list[1].weather[0].main,b=e.list[2].weather[0].main,F=e.list[0].main.temp-273.15,R=e.list[1].main.temp-273.15,A=e.list[2].main.temp-273.15;s.textContent=t,n.textContent=y+"°C",o.textContent=B,l(M,c),l(z,m),l(C,p),l(b,r),u.textContent=Math.round(F)+"°C",d.textContent=Math.round(R)+"°C",g.textContent=Math.round(A)+"°C",h.textContent=Math.round(e.list[8].main.temp-273.15)+"°C",S.textContent=Math.round(e.list[16].main.temp-273.15)+"°C",f.textContent=Math.round(e.list[24].main.temp-273.15)+"°C",N.textContent=Math.round(e.list[32].main.temp-273.15)+"°C",v.textContent=Math.round(e.list[39].main.temp-273.15)+"°C";const V=e.list[8].weather[0].main,k=e.list[16].weather[0].main,K=e.list[24].weather[0].main,E=e.list[32].weather[0].main,O=e.list[39].weather[0].main;l(V,_),l(k,I),l(K,T),l(E,Y),l(O,D),w.src=a.results[0].urls.regular,x.textContent=t};async function j(){const e=document.getElementById("choose"),t=localStorage.getItem("ville"),a=document.querySelector("main"),s=e.value||t||"charleroi";if(a.innerHTML="",s!="")try{let c=await(await fetch("https://us1.locationiq.com/v1/search?key=pk.d12d07f0d36545fc2051ed5f2e34c1cd&q="+s+"%20&format=json")).json();const o=c[0].lat,m=c[0].lon;let r=await(await fetch("https://api.openweathermap.org/data/2.5/forecast?lat="+o+"&lon="+m+"&appid=eb9158767d821cfee8d7eca824f38e1f")).json(),d=await(await fetch("https://api.unsplash.com/search/photos?client_id=p1qn3My8katmILWqNG9L5_s5a25uQT3IGfJJexTgxfw&query="+s)).json();ee(s),ae(r,s,d),ne(s),te(r,s)}catch(n){console.log(n)}localStorage.setItem("ville",s),e.value=""}async function ue(){const e=document.getElementById("choose");localStorage.getItem("ville");const t=e.value;if(t!="")try{let s=await(await fetch("https://api.myptv.com/geocoding/v1/locations/by-text?searchText="+t+"&apiKey=RVVfNzQ1ZTAyOGRiMDk2NDJhODg3ZWY3NTc1NThiMWIyZTk6MmNiYmEwMzYtNTczYy00Mzc3LThiMmYtMTFjODljNDcxY2Ji")).json();const n=s.locations[0].referencePosition.latitude,c=s.locations[0].referencePosition.longitude;let m=await(await fetch("https://api.openweathermap.org/data/2.5/forecast?lat="+n+"&lon="+c+"&appid=eb9158767d821cfee8d7eca824f38e1f")).json(),r=await(await fetch("https://api.unsplash.com/search/photos?client_id=p1qn3My8katmILWqNG9L5_s5a25uQT3IGfJJexTgxfw&query="+t)).json();ee(t),ae(m,t,r),ne(t),te(m,t)}catch(a){console.log(a)}e.value=""}function ge(){const e=document.getElementById("submit"),t=document.querySelector("#choose"),a=document.getElementById("add");j(),e.addEventListener("click",s=>{s.preventDefault(),t.value!=""&&j()}),a.addEventListener("click",s=>{s.preventDefault(),t.value!=""&&ue()})}ge();
